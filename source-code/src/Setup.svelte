<script>
    import { Modal, ModalBody } from 'sveltestrap';
    import { Link } from 'svelte-routing';
    let warning = navigator.userAgentData.mobile;
    const done = () => {
        if ((warning = true)) {
            warning = false;
            document.querySelector('.home').click();
        } else warning = true;
    };
</script>

<div hidden={navigator.userAgentData.mobile}>
    <div class="mt-3 d-flex justify-content-center">
        <!-- svelte-ignore a11y-invalid-attribute -->
        <a
        href="javascript:(function()%7Blet%20username%20%3D%20'{localStorage.getItem('username')}'%3B%0Alet%20password%20%3D%20'{localStorage.getItem('password')}'%3B%0Afunction%20getDays()%20%7B%0A%20%20%20%20let%20days%20%3D%20%5B%5D%3B%0A%20%20%20%20let%20tbody%20%3D%20document.querySelector(%0A%20%20%20%20%20%20%20%20'%23afsprakenLijst%20%3E%20div.k-grid-content%20%3E%20table%20%3E%20tbody'%0A%20%20%20%20)%3B%0A%20%20%20%20let%20trDays%20%3D%20tbody.querySelectorAll('tr.k-grouping-row.ng-scope')%3B%0A%20%20%20%20trDays.forEach((day)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20dataItem%20%3D%20angular.element(day).scope().dataItem%3B%0A%20%20%20%20%20%20%20%20dataItem.elements%20%3D%20%24(day).nextUntil('.k-grouping-row.ng-scope')%3B%0A%20%20%20%20%20%20%20%20days.push(dataItem)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20return%20days%3B%0A%7D%0A%0Afunction%20isSelectedDayToday()%20%7B%0A%20%20%20%20let%20date%20%3D%20new%20Date()%3B%0A%20%20%20%20let%20currentDate%20%3D%20''%20%2B%20date.getDate()%20%2B%20date.getMonth()%20%2B%20date.getYear()%3B%0A%20%20%20%20let%20date2%20%3D%20new%20Date(getDays()%5B0%5D.value)%3B%0A%20%20%20%20let%20anyDate%20%3D%20''%20%2B%20date2.getDate()%20%2B%20date2.getMonth()%20%2B%20date2.getYear()%3B%0A%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20(new%20Date().getDay()%20%3D%3D%200%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20new%20Date(new%20Date().setDate(new%20Date().getDate()%20%2B%201)).getDate()%20%3D%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20date2.getDate())%20%7C%7C%0A%20%20%20%20%20%20%20%20(new%20Date().getDay()%20%3D%3D%206%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20new%20Date(new%20Date().setDate(new%20Date().getDate()%20%2B%202)).getDate()%20%3D%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20date2.getDate())%20%7C%7C%0A%20%20%20%20%20%20%20%20currentDate%20%3D%3D%3D%20anyDate%0A%20%20%20%20)%3B%0A%7D%0Afunction%20parseDays()%20%7B%0A%20%20%20%20let%20data%20%3D%20getDays()%3B%0A%20%20%20%20data%20%3D%20data.map((day)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20let%20parsedDay%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20subjects%3A%20day.items%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20day%3A%20new%20Date(day.value).getTime()%2C%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20parsedDay.subjects%20%3D%20parsedDay.subjects.map((subject)%20%3D%3E%20(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20start%3A%20new%20Date(subject.beginString).getTime()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20end%3A%20new%20Date(subject.eindString).getTime()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20classhour%3A%20subject.lesuur%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20title%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20subject.title.split('-').splice(0%2C%202).join('-')%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'-%20'%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20subject.locatie%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20location%3A%20subject.locatie%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20description%3A%20subject.vak%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20docent%3A%20subject.docent%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20toets%3A%20subject.isToets%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20homework%3A%20subject.huiswerk%2C%0A%20%20%20%20%20%20%20%20%7D))%3B%0A%20%20%20%20%20%20%20%20return%20parsedDay%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20return%20data%3B%0A%7D%0Afunction%20start()%20%7B%0A%20%20%20%20let%20wait%20%3D%20setInterval(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(isSelectedDayToday())%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(wait)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.querySelector('%23afsprakenlijst-container%20%3E%20dna-page-header')%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.shadowRoot.querySelector(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'div.container%20%3E%20div.title'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20).innerText%20%3D%20'Agenda%20(Laden)'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20iframe%20%3D%20document.createElement('iframe')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20iframe.src%20%3D%20'https%3A%2F%2Fhoogeland-pauzes.ml%2FpostIframe.html'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20iframe.style.visibility%20%3D%20'hidden'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20iframe.onload%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20iframe.contentWindow.postMessage(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20username%2C%20password%2C%20days%3A%20parseDays()%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'*'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20window.onmessage%20%3D%20(data)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!data.origin%20%3D%3D%20'https%3A%2F%2Fhoogeland-pauzes.ml')%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(data.data%20%3D%3D%20'failed')%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.querySelector(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'%23afsprakenlijst-container%20%3E%20dna-page-header'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.shadowRoot.querySelector(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'div.container%20%3E%20div.title'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20).innerText%20%3D%20'Agenda%20(Mislukt)'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(data.data%20%3D%3D%20'success')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.querySelector(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'%23afsprakenlijst-container%20%3E%20dna-page-header'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.shadowRoot.querySelector(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'div.container%20%3E%20div.title'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20).innerText%20%3D%20'Agenda%20(Success)'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setTimeout(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20()%20%3D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(document%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.querySelector(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'%23afsprakenlijst-container%20%3E%20dna-page-header'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.shadowRoot.querySelector(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'div.container%20%3E%20div.title'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20).innerText%20%3D%20'Agenda')%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%205000%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.body.appendChild(iframe)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%20100)%3B%0A%7D%0Alet%20startInterval%20%3D%20setInterval(()%20%3D%3E%20%7B%0A%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20document.querySelector(%0A%20%20%20%20%20%20%20%20%20%20%20%20'%23afsprakenLijst%20%3E%20div.k-grid-content%20%3E%20table%20%3E%20tbody%20%3E%20tr'%0A%20%20%20%20%20%20%20%20)%20%26%26%0A%20%20%20%20%20%20%20%20location.host%20%3D%3D%20'isw.magister.net'%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(startInterval)%3B%0A%20%20%20%20%20%20%20%20start()%3B%0A%20%20%20%20%7D%0A%7D%2C%20100)%3B%7D)()%3B"
        class="btn btn-secondary">Hoogeland Pauzes</a
        >
    </div>
    <div class="mt-3 d-flex justify-content-center">
        <h6>Sleep deze knop hierboven op je bookmark balk om te instaleeren</h6>
    </div>
    <div class="mt-3 d-flex justify-content-center">
        <h6>
            Als je dat gedaan hebt kun je naar je agenda (op magister) en kan je klikken op Hoogeland Pauzes,
        </h6>
    </div>
    <div class="d-flex justify-content-center">
        <h6>Dan worden de pauzes opgeslagen.</h6>
    </div>
    <div class="mt-3 d-flex justify-content-center">
        <Link class="btn btn-secondary" to="/">Klaar</Link>
    </div>
</div>
<Link to="/" class="home" style={{ visibility: 'hidden' }} />
<Modal isOpen={warning} toggle={done}>
    <ModalBody>
        Als je wilt dat er dagen en vakken tevoorschijn komen, <br />
        Moet je de app op je chromebook instaleeren
    </ModalBody>
</Modal>
